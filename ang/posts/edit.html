<header>
  <ol class="entry-meta breadcrumb">
    <li><a href="/posts" target="_self">Posts</a></li>
    <li><a href="/posts/me">My Posts</a></li>
    <li class="current">Author</li>
  </ol>
</header>


<section class="editornotsupported">
  <h3>You'll need a bigger screen...</h3>
  <p>Authoring posts on AirPair requires a minimum resolution of 1200px.</p>
</section>


<section id="posteditor">


<div ng-if="post" class="editor-wrap">

  <section ng-if="aceLoaded" id="editor">
    <div id="aceeditor" ui-ace="{
      useWrapMode:true,
      theme:'solarized_light',
      mode:'markdown',
      onLoad: aceLoaded,
      onChange: aceChanged,
      onBlur: previewMarkdown
    }"
    ng-model="aceMD"
    >
  </section>

  <section id="post">
    <div id="preview" ap-post=""></div>
  </section>

<!--
    ng-model-options="{
      updateOn: 'default blur',
      debounce: { blur: 0, default: (post.md.length * 10) }}" -->


  <div class="form-actions">

    <button class="btn" ng-click="save()" ng-disabled="post.saved">Save MD</button>

    <a class="btn" href="/posts/info/{{post._id}}" ng-disabled="preview.wordcount < 500">Edit info</a>

    <a class="btn"
      ng-click="submitForReview()"
      ng-if="!post.submitted"
      ng-disabled="notReviewReady">Submit for review</a>

    <a ng-if="!githubAuthed()" class="btn" target="_self" ng-href="/auth/github?returnTo=/posts/edit/{{post._id}}">Connect github</a>

    <button class="btn" ng-click="delete()" ng-if="!post.submitted">Delete</button>

    <div class="commitmsg" ng-if="post.submitted">
      <label>Commit message</label>
      <input type="text" ng-disabled="post.saved" ng-model="post.commitMessage" placeholder="Enter a commit message" class="form-control" />
    </div>

  </div>
  <hr />

  <div id="tips">

    <post-step-helper post="post"></post-step-helper>

    <label ng-if="!post.submitted">
      <span>Also see the <a href="http://daringfireball.net/projects/markdown/syntax" target="_blank">Markdown guide</a><span> and read our <a href="/posts/authoring-faq" target="_blank">Post authoring tips & faq</a>.
    </label>

    <!-- <div ng-if="post._id">
      <ul>
        <li>escape characters with <code>\</code> to render them non markdown, e.g. for a list bullet you might <code>- \-</code></li>
      </ul>
    </div> -->
  </div>


</div>


</section>
