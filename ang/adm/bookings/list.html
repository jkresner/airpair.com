<section id="bookings">

  <div class="query">
    <div datetime-input id="queryStart" datetime="query.start"></div>
    <div datetime-input id="queryEnd" datetime="query.end"></div>
    <div user-input></div>
    <a ng-click="fetch()" class="btn">Search</a>
  </div>

  <h3>Bookings</h3>

  <section class="upcoming" ng-if="upcoming">
    <h4>Upcoming</h4>
    <p ng-if="upcoming.length == 0">No AirPairs Scheduled in the next 48 hours.</p>
    <ul ng-if="upcoming.length > 0">
      <li ng-repeat="b in upcoming">
        <a href="/adm/bookings/{{b._id}}">
          <time>{{b.datetime | locaTime : 'ddd, DD HH:mm' }}</time>
        </a>
      </li>
    </ul>
  </section>


  <table class="table table-condensed bookings">
    <tr>
      <th style="width:100px">Time</th>
      <th style="width:100px">Type</th>
      <th>Status</th>
      <th style="width:80px">Participants</th>
      <th>Recordings</th>
      <th class="p"></th>
    </tr>
    <tr ng-repeat="b in bookings">
      <td>
        <a href="/adm/bookings/{{b._id}}">
          <b>{{b.datetime | locaTime : 'MM.DD HH:mm' }}</b><br /><time>{{b.minutes}} minutes</time>
        </a>
      </td>
      <td>{{b.type}}</td>
      <td>{{b.status}}</div>
      <td style="width:300px">
        <div ng-repeat="p in b.participants">
          <img ng-src="{{p.info.avatar}}" class="user"> {{p.info.name}}
        </div>
      </td>
      <td></div>
      <td class="p"></div>
  </table>

</section>
