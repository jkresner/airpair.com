@import "ap.less";

@sideRailWidth:212px;
@mainElmWidth:640px;
@mainElmPad:0px;

section.notifications {
  > #postinreview {
    h1 { font-size:42px;margin-top:0;
      img { height:48px;margin-top:-8px }
    }
    p { font-size:16px;max-width:80%;margin:10px auto }
  }
}

//-- A list (tile grid) of posts
.posts {
  margin-left:-5px;
  text-align:center;

  @media screen and (max-width:640px) {
    margin:auto;
  }

  article {
    .tile;
    text-align:left;
    position:relative;
    margin:6px;
    padding:0px;
    line-height:14px;
    display:inline-block;

    > a { padding:0px 6px 0px 0px;display:block }

    header {
      padding:4px;
      float:left;
      width:50%;
      position:absolute;
      top:0;
      bottom:0;
      .entry-header-image { max-width:100%; }
      p.entry-meta {
        width:100%;
        line-height:16px;
        margin:0;
        padding:0;
        color:@gray;
        font-size:11px;
        position:absolute;
        bottom:0;
        left:0;
      }
      .entry-categories {
        em { display:inline-block;font-style:normal; }
        color:@darkblue;
        width:100%;
        font-size:9px;
        a {
          display:inline-block;
          margin-left:5px }
       }
      .entry-author {
        padding-top:15px;
        font-weight:bold;
        color:@orange;
        width:100%;
      }
      .entry-author-name {
        display:inline-block;
        width:50%;
      }
      .entry-author-image {
        width:50px;
        border-radius:25px;
        display:inline;
        margin:0px 6px 0 1px;
        border:solid 3px @bluegray;
        webkit-filter: grayscale(100%);
        -moz-filter: grayscale(100%);
        filter: grayscale(100%);
      }
      time {
        display:block;
        color:@gray;
        font-weight:normal;
      }
    }

    .entry-content {
      text-align:left;
      float:right;
      width:48%;
      padding:3px;
      h2 { margin:0px 0px 1px 0px; }
      p { color:@mediumgray }
      max-height:143px;
      overflow:hidden;
    }

    footer {
      position:absolute;
      bottom:0;
      right:0;
      font-size:9px;
      text-align:right;
      width:40%;
      height:40px;
    }
  }
}

.posts.inreview {
  article { .tileInactive; }
}

article.postclean {
  height:280px;
  display:inline-block;
  background:white;
  max-width:360px;
  text-align:left;
  margin:-10px 8px 0 8px;
  border:solid 2px @lightblue;
  header {
    height:130px;overflow:hidden;
    img { max-width:100%; }
  }
  .entry-content {
    padding:20px 15px;
    .entry-title {
      color:@darkblue;font-weight:bold;
      height:60px;width:80%;margin:0;
      font-size:14px!important;line-height:18px!important;
      margin-bottom:10px!important;
    }
    img { float:right;border-radius:50% }
    .entry-author-name {
      color:@orange;font-weight:bold;margin-top:16px;display:block
    }
  }
}


//-- A single full post view

.blogpost {

  clear:both;
  padding:0 0px;
  position:relative;

  header { border-bottom:solid 1px @lightgray;margin-bottom:20px }

  hr { max-width:@mainElmWidth;
    color:@lightblue;
    margin:10px 0
  }
  h1 { padding-left:@mainElmPad }
  h2 { max-width:@mainElmWidth;text-align:left;font-size:28px;margin:40px 0 30px 0;padding-left:@mainElmPad;line-height:35px }
  h3 { max-width:@mainElmWidth;text-align:left }
  p { margin-top:0;
    max-width:@mainElmWidth;
    vertical-align:top;
    padding-left:@mainElmPad;
    color:#4D4D57;
    font-size: 16px;
    line-height: 26px;
  }

  // --- Prism customization
  .line-numbers .line-numbers-rows { width:1.9em;left:0 }
  .line-numbers-rows > span:before { padding-right:0.6em }

  pre {
    font-size:12px;
    border:none;padding:6px;max-width:@mainElmWidth;

    footer { text-align:right;border-top:solid 1px @lightgray;
      margin-top:4px;padding-top:3px }
  }

  pre.line-numbers {
    code { padding-left:30px }
  }
  // ---End Prism customization

  ol { max-width:620px;padding-left:30px }
  ul { max-width:620px;margin:0;padding-left:15px }
  ul ul { margin-left:12px } // nested lists

  iframe { margin:0px 0px 0px 0px }
  img { max-width:100% }

  p.asset {
    clear:left;
    margin-bottom:0;
    span {
      display:block;
      text-align:center;
      border:dotted 1px @lightgray;
      min-height:360px;
      line-height:40px;
      padding-top:40px;
    }
 }

  .rail {
    float:right;
    clear:right;
    width:@sideRailWidth;
  }


 .railMarker {
  position:absolute;
  right:0;
  height:1px;
 }

  .rail1CTA {
    .rail;
  }

  .fork {
    a {
      background:@orange no-repeat url('../img/icons/gh-white.png');
      background-size:21%;
      width:100%;
      padding-left:45px;
    }
    p { width:100%!important;text-align:right;margin:0 0 20px 0;padding-top:5px!important }
  }

  .share {
    .rail;
    margin:14px 0;
    top:0;
  }

  #table-of-contents {
    .rail;
    margin:10px 0 8px 0;
    font-size:24px;
  }
  #table-of-contents + ul {
    .rail;
    list-style:none;
    padding-left:0;
    font-size:13px;
    z-index:0;
    max-height:540px;
    overflow-y:auto;

    ul { list-style:none;margin-top:4px;padding-left:0px;font-size:10px;line-height:14px }
    li { padding:1px 0 2px 0; }
  }


  .author {
    clear:left;
    float:left;
    position:relative;
    background-color:@bluegray;
    max-width:640px;
    margin:22px 0 24px 0;

    hr { clear:left;margin:0 }

    > img {
      position:absolute;top:-12px;left:-15px;
      border:solid 3px white;
      width:90px;height:90px;
      border-radius:50%;
    }

    > div {

      > label {
        color:@gray;
        font-size:20px;
        font-weight:normal;
        margin:6px 10px 0px 90px;
        float:left;
      }

      .sociallinks {
        float:left;
        margin:9px 2px 3px 2px;
        .icon { height:23px;width:23px;border-radius:50% }
        a { background-color:@orange!important }
      }

      > figcaption {
        clear:left;
        margin:0px 10px 10px 90px;
        max-height:80px;
        width:540px;
        box-sizing:border-box;
        // font-style:italic;
        font-size:13px;
        overflow:hidden;
        color:@gray;
      }
    }

    .book {
      display:none;
      position:absolute;
      font-size:12px;
      height:30px;
      bottom:-25px;
      left:50%;
      right:0px;
    }
  }

  // div.island {
  //   width:100%;
  //   height:60px;

  //   div.rail {
  //     float:right;
  //     clear:right;
  //     width:@sideRailWidth;
  //     position:relative;
  //   }
  // }

  .bodyCTA {
    padding-top:20px;
    width:640px;
    h6 { text-transform:uppercase;font-weight:bold }
    .error {
      padding:5px
    }

    #postSubscribeForm {
      position:relative;
      height:202px;
      .lightblueForm;
      .flatLeftForm;
      .form-group { margin-bottom:0 }
      h3 { margin:10px 0px 15px 1px;font-size:20px;color:@blackgray; }
      input::-webkit-input-placeholder { font-size:15px;color:@lightorange }
      input::-moz-placeholder { font-size:15px;color:@lightorange; }
      input:-ms-input-placeholder { font-size:15px;color:@lightorange }
      span { font-size:16px;color:#B4C1BE;padding-top:16px;font-weight:bold;box-shadow:gray }
      #postSubscribeName { margin-right:10px }
      button { position:absolute;bottom:10px;width:94%;font-weight:normal;font-size:15px;b { font-size:18px } }
      button.blue { background:@lightblue;color:@lightblue;padding:0 }
    }

    article.requestWidget
    {
      background:white;
      position:relative;
      left:260px;
      z-index:2;
    }
  }

  #disqus_thread {
    margin-top:60px;
    background:white;
    min-height:700px;
    z-index:2;
    position:relative;
  }

  .similar {
    padding:20px 0;
    position:relative;
    background:white;
    z-index:3;
    margin-top:-150px;
  }

  @media only screen and (max-width:900px) {
    .island {
      width:100%;
      .rail {
        float:none!important;
        display:block;
        margin:auto;
      }
    }
    div.railCTA1Holder {
      float:none;
      margin:auto;
    }
    .railCTA { margin:auto;float:none;display:block; }
    .rail1CTA { margin:auto;float:none;display:block;position:fixed }

    .bodyCTA {
      margin:auto;
      width:90%;
    }

    > h1 { font-size:32px;line-height:48px;margin:10px 0 }
    #table-of-contents { display:none;float:left;clear:left; }
    #table-of-contents + ul { display:none;float:left;clear:left; }
    .author { float:none }
    figure { clear:both;padding-top:20px }
  }

  @media only screen and (max-width:640px) {
    p { padding:2px 5px 2px 5px;font-size:14px;line-height:22px }
    iframe { width:100%;position:relative;left:0 }
    > h1 { font-size:28px;line-height:30px;text-align:center;margin-top:20px }
    h2 { font-size:22px;line-height:32px;text-align:center;margin-bottom:10px }
    h3, h4, h5, h6 { text-align:center }
    #table-of-contents { font-size:16px;margin:20px 20px 10px 20px;text-align:left }
    #table-of-contents + ul { margin:0px 20px }
    figure.author {
      float:none;
      label { margin-left:60px }
      figcaption {
        max-height:inherit;
        margin-left:60px;
        max-width:80%;
      }
      hr { clear:both }
    }
    .author > img { width:60px;height:60px; }
    .author > figcaption { width:75%;float:right;height:inherit; }
  }

   .workshop-cta {
    max-width:640px;
    background-color:#dff2ef;
    padding:18px;
    color:black;
    border-top-right-radius:4px;
    border-bottom-right-radius:4px;
    border-left:solid 6px #ce5424;

    b { display:block;color:@blue;text-transform:uppercase;padding-bottom:4px }
    a { display:block;font-weight:bold;padding-top:8px;font-size:18px }
  }
}


section.editornotsupported {
  h3 { font-size:20px }
  text-align:center;
  width:300px;
  margin:auto;
  display:none;
  @media screen and (max-width:1200px) {
    display:block;
  }
}

section#posteditor {
  position:absolute;
  left:0;
  width:100%;
  margin:auto;

  .editor-error-wrap {
    max-width:640px;
    width:90%;
    margin:auto;
    margin-bottom:30px;
    h2 {
      background-color:@lightblue;
      padding:10px 50px;
      border-radius:20px;
    }
  }

  .editor-wrap {
    position:relative;
    min-width:1120px;
    width:90%;
    margin:auto;
    margin-bottom:30px;

    h1 { border-bottom:none }
  }

  #preview {
    .author { display:none }
    border-top:solid 2px @bluegray;
    height:750px;
    width:650px;
    display:inline-block;
    margin-right:0px;
    padding-right:0px;
    overflow-y:scroll;
  }

  #editor {
    position:absolute;
    left:650px;
    right:0;
    .ace_editor {
      height:750px;
      width:100%;
      border-top:solid 2px @bluegray;
      border-right:solid 2px @bluegray;
    }
  }


  .form-actions {
    background:@lightblue;
    padding:10px 5px 10px 10px;
    .btn { width:190px;margin:0px 5px;font-size:14px;float:right }
    .commitmsg {
      margin:10px 0;
      input { width:440px }
    }
    span { font-weight:bold }
    label { display:block;font-size:12px;padding-top:5px;font-weight:normal }
  }

  #tips {
    background:@palegray;
    padding:20px
  }

  hr { clear:both;margin-bottom:0 }

  @media screen and (max-width:1200px) {
    display:none;
  }
}

section#postslist {
  section > h3 {
    width:100%;
    margin-bottom:10px;
    font-size:18px;
    padding:5px 0;
    span { display:block;float:right }
    .btn { padding:5px;width:180px }
  }
}

section#posts {

  section > h3 {
    width:100%;
    margin-bottom:10px;
    font-size:18px;
    padding:5px 0;
    span { display:block;float:right }
    border-bottom:solid 2px @bluegray;
  }

  #myposts {
    width:900px;
    h3 { margin-bottom:20px }
    .editOptions {
      text-align:right;
      float:right;
      width:180px;
      a.btn { width:180px }
    }
    > p { text-align:center }
    label { display:none }
  }

  #contributions {
    width:620px;float:left;
    td { position:relative; }
    td.edit {
      padding-right:22px;
      .gh-white {
        background-color:@orange;
        position:absolute;
        right:2px;
        height:18px;width:18px;
        display:inline-block;
        background-size:100%;
        border-radius:50%;
      }
      .gh-white:hover {
        background-color:@orangehighlight;
      }
    }
  }


  #recent {
    width:240px;float:right;
    article { padding:0;margin:10px 0 }

    a:hover article {
      // background:@orangehighlight;
      border:solid 2px @orangehighlight;
      h2 { color:@orange }
      .entry-author-name { color:@gray }
    }
  }

  #author { padding-top:10px }

  .editor {
    padding:10px 16px 0px 16px;
    span { font-weight:normal;font-size:11px }
    .meta {
      display:none;
      width:100%;
      float:right;
      .dates .form-group
      {
        float:left;width:60%;
      }
      .dates section
      {
        margin:0px 0px 2px 0px;
        line-height:10px;
        float:right;
        width:32%;
        font-size:10px;
        label { font-size:10px;display:block;margin-bottom:5px  }
        span { display:block;margin-bottom:6px }
      }
    }
    .md { float:left;width:64%;
      display:none;
      textarea { padding:4px;height:340px;font-size:14px }
    }
    .md + .meta {
      width:34%;
    }
    .form-actions {
      height:40px;
      clear:both;
      text-align:center;
      .btn { width:19%;margin:0px 2px 8px 2px;padding:3px 0px;display:none }
      .btnPreview { display:inline-block; }
    }

    .tag-input-group {
      .nomobile { display:none }
      label { display:none }
      .drag { display:none }
      .selected {
        display:block;
        float:none;
        li { display:inline;background:none;border:none }
        .remove { float:none;background:none;color:red;display:inline;font-size:12px }
        .order { display: none; }
      }
    }
  }

  .editor + hr { margin:4px 0 0 0;border-color:@lightblue; }
  .preview + hr { margin:0px 0px 4px 0px;border-color:@lightblue; }

  #tips { display:none; }

  .edit {
    #preview {
      .preview {
        width:914px;max-height:300px;overflow-y:scroll;
        border-right:solid 1px @lightblue;
      }
    }

    #tips { display:block;background-color:@lightblue;padding:4px 6px;font-size:10px;line-height:14px;min-height:80px }
    #tips ul { padding:4px 14px }
  }

  .edit, .publish {

    .form-actions { .btn { display:inline-block } }
    .editor { background-color:@lightblue; }
    .md { display:block }
    .meta { display:block }

    .publishMeta input { font-size:11px;padding:4px;height:26px }

    article { border:solid 2px @bluegray;background:white }
    article header { background:@bluegray }
  }

  @media screen and (max-width:640px) {
    //-- don't show myposts UI on mobile. might even be worth disabling xhr in angular
    section#myposts { display:none }
  }
}


section#postinfo {

  .form { background:@lightblue;padding:30px;border-radius:10px;
    textarea { height:85px }
    hr { clear:both }
    .btn { width:100% }
  }

  .connect-icons {
    .oauth { width:30px;margin:1px 5px 6px 1px;padding:0 }
    .oauth a { background-size:90%;background-position:2px 3px;
      height:30px;padding:8px 0 0 30px;font-size:11px;margin:0;border-radius:50%;overflow:hidden; }
  }

  .tag-input-group {
    .nomobile { display:none }
    label { display:none }
    .drag { display:none }
    .selected {
      width:280px;
      display:block;
      float:none;
      li { display:inline;background:none;border:none }
      .remove { float:none;background:none;color:red;display:inline;font-size:12px }
      .order { display: none; }
    }
  }

  .form-actions {
    text-align:center;
    p { margin-top:15px }
    img { max-width:80% }
  }

  #preview {
    max-width:900px;margin-top:40px;
    #body {
      display:none;
    }
    hr { display:none }
  }

  .posts { background:white; }

}

#postfork {

  #forkinfo {
    text-align:center;
    margin-top:20px;
    border:solid 2px @darkblue;
    h2 { margin-top:0;background:@darkblue;color:white;font-size:24px;
      font-weight:bold;
     }
    h3 { font-weight:bold;color:@gray;font-size:16px;margin-top:10px }
    p { padding:10px 10% 20px 10% }
    .notice {
      h3 { margin-bottom:0px }
      background:@lightblue;margin:15px 80px;padding-top:1px
    }
    .btn { margin:0px 40px;width:740px }

    input { margin:0px auto;width:740px }
  }

}
